<script>
// ================= PROJECT DATA =================
const projects = [
  {
    title:"Real Estate Platform Dashboard",
    image:"your-project/real-estate-dashboard.png",
    tech:"React, Node.js, MySQL",
    demo:"https://eyesightworks.github.io/real-estate-demo/",
    code:"https://github.com/eyesightworks/real-estate-platform",
    category:"Real Estate"
  },
  {
    title:"Property Booking System",
    image:"your-project/real-estate-booking.png",
    tech:"React, Stripe API",
    demo:"https://eyesightworks.github.io/property-booking-demo/",
    code:"https://github.com/eyesightworks/property-booking",
    category:"Real Estate"
  },
  {
    title:"Inventory Management Dashboard (Business Platform)",
    image:"your-project/pharmacy-dashboard.png",
    tech:"HTML, CSS, JavaScript",
    demo:"https://eyesightworks.github.io/pharmacy-dashboard/",
    code:"https://github.com/eyesightworks/pharmacy-dashboard",
    category:"Pharmacy"
  },
  {
    title:"Sales Management Platform (Business Dashboard)",
    image:"your-project/automobile-dashboard.png",
    tech:"HTML, CSS, JavaScript",
    demo:"https://eyesightworks.github.io/automobile-dashboard/",
    code:"https://github.com/eyesightworks/automobile-dashboard",
    category:"Automobile"
  },
  {
    title:"Scalable Backend Architecture (NestJS Microservices)",
    image:"your-project/backend.png",
    tech:"NestJS, Prisma ORM, PostgreSQL, JWT Authentication, Paystack Integration",
    demo:"",
    code:"",
    category:"Backend",
    description:"Modular multi-domain backend built with NestJS. Implements JWT-based RBAC, payment gateway abstraction, wallet services, transaction management, notification services, and scalable architecture patterns designed for enterprise-grade applications."
  },
  {
    title:"AI Voice & Image Demo",
    image:"images/ai-demo.jpg",
    tech:"Python, Flask",
    demo:"",
    code:"",
    category:"AI"
  },
  {
    title:"Personal Portfolio",
    image:"your-project/portfolio.png",
    tech:"HTML, CSS, JavaScript",
    demo:"https://eyesightworks.github.io/eyesight-skills/",
    code:"https://github.com/eyesightworks/eyesight-skills",
    category:"Portfolio"
  }
];

const container = document.getElementById("projects-container");

function render(filter="all"){
  container.innerHTML="";
  projects.forEach(p=>{
    if(filter==="all"||p.category===filter){
      container.innerHTML+=`
      <div class="project-card">
        <img src="${p.image}" alt="${p.title}">
        <h3>${p.title}</h3>
        <p><b>Tech:</b> ${p.tech}</p>
        ${p.description ? `<p>${p.description}</p>` : ""}
        <div class="btn-box">
          ${p.demo?`<a class="btn" href="${p.demo}" target="_blank">Live Demo</a>`:""}
          ${p.code?`<a class="btn btn-secondary" href="${p.code}" target="_blank">View Code</a>`:""}
        </div>
      </div>`;
    }
  });
}

render();

// FILTERS
document.querySelectorAll("#category-filters button").forEach(btn=>{
  btn.onclick=()=>{
    document.querySelectorAll("#category-filters button").forEach(b=>b.classList.remove("active-filter"));
    btn.classList.add("active-filter");
    render(btn.dataset.filter);
  }
});

// HAMBURGER
document.documentElement.classList.add("js-enabled");
const hamburger = document.querySelector("[data-hamburger]");
const navMenu = document.querySelector("[data-nav-menu]");
if(hamburger && navMenu){
  hamburger.addEventListener("click", ()=> {
    const isOpen = navMenu.classList.toggle("show");
    hamburger.setAttribute("aria-expanded", String(isOpen));
  });
  navMenu.querySelectorAll("a").forEach(link => 
    link.addEventListener("click", ()=> navMenu.classList.remove("show"))
  );
  document.addEventListener("keydown", e=>{
    if(e.key==="Escape") navMenu.classList.remove("show")
  });
}

// LANGUAGE SWITCHER
const SUPPORTED_LANGS = ["en","fr","es","ar"];
const state={
  lang:SUPPORTED_LANGS.includes(localStorage.getItem("siteLang"))
  ? localStorage.getItem("siteLang")
  : "en"
};

function applyLanguage(lang){
  if(!SUPPORTED_LANGS.includes(lang)) lang="en";
  document.querySelectorAll("[data-en]").forEach(el=>{
    const t=el.dataset[lang];
    if(t) el.textContent=t;
  });
  document.documentElement.dir = lang==="ar"?"rtl":"ltr";
  localStorage.setItem("siteLang",lang);
}

document.querySelector("[data-lang-select]").value=state.lang;
applyLanguage(state.lang);
document.querySelector("[data-lang-select]")
  .addEventListener("change", e=>applyLanguage(e.target.value));
</script>
